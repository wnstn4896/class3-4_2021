<!doctype html>
<html>
 <head>
   <meta charset="utf-8">
   <meta http-equiv="content-type" content="text/html; charset=utf-8">
   <meta name="viewport" content="width=device-width">
   
   <title>3학년 4반 자리배치</title>
   
   <style type="text/css">
     body { margin:0px; text-align:center; }
     table { width:500px; line-height:30px;}
     td { width:100px; }
	 
	 @media(max-width:500px){
		table { width:300px; font-size:10px; }
		td { width: 60px; }
	}
   </style>
   <script language="javascript">
     document.oncontextmenu = function(e){
      return false;
     }
   </script>
 </head> 
 <body> 
  <h1>3학년 4반 자리배치</h1> 
  <div>
   <table border="1" align="center"> 
   <script language="javascript">
	// 배열 섞기
	function shuffle(arr){
		var i=0,j=0,x=0;
		for (i=arr.length; i; i-=1){
			j = Math.floor(Math.random()*i);
			x = arr[i-1];
			arr[i-1] = arr[j];
			arr[j] = x;
		}
	}
	
	// 날짜 객체
	let today = new Date();
	
	let day = today.getDay();  // 요일 = 숫자 데이터로 리턴됨.
	// 이 외 날짜 데이터는 toLocaleDateString() 함수를 이용해 한 번에 출력 가능.
	
	// 숫자로 리턴된 요일 데이터를 문자열로 대체
	switch(day){
		case 0:
			day = "(일)";
			break;
		case 1:
			day = "(월)";
			break;
		case 2:
			day = "(화)";
			break;
		case 3:
			day = "(수)";
			break;
		case 4:
			day = "(목)";
			break;
		case 5:
			day = "(금)";
			break;
		case 6:
			day = "(토)";
			break;
	}

	// 날짜 구하기
	const date_term = prompt('기준 날짜는 현재 날짜에서 며칠 후입니까?', 0); // 입력창, 초기값은 0
	today.setDate(today.getDate() + parseInt(date_term)); // 입력한 텀만큼 날짜 데이터를 갱신함. 입력한 텀은 정수형으로 변환. 
	let start_date = today.toLocaleDateString()+day;
	
	today.setDate(today.getDate() + 14); // 2주(14일) 후로 날짜 데이터 갱신
	
	let end_date = today.toLocaleDateString()+day;
	
	const students = ['1. 경지희', '2. 김동현', '3. 김재희', '4. 나재민', '5. 문태윤', '6. 박수현', '7. 박진석', '8. 신준수', '9. 심윤아', '10. 오대산', '11. 윤병현', '12. 이강희', '13. 이다은', '14. 이동현', '15. 이아현', '16. 이하린', '17. 장우혁', '18. 장지수', '19. 정상수', '20. 정윤철', '21. 정은송', '22. 정해찬', '23. 조아름', '24. 지수민', '25. 한다은'];
	
	var i = 0;
	// 10~100번 섞기
	for (i=10; i<=Math.floor(Math.random()*100)+1; i++)
		shuffle(students);
		
        for(i=0; i<students.length; i++){
      	   if (i%5==0){
         	 document.write('</tr><tr><td>'+(students[i])+'</td>');
        	} 
        	 else{
         	 document.write('<td>'+(students[i])+'</td>');
       	  }
       }
	   
	   function sheets_print(){
	    document.querySelector('p').style.display='none';
		document.querySelector('#print').style.display='none';
		print();
	   }
  </script>
        </tr>
    </table>
    <table border="1" align="center" style="margin-top:25px; width:100px;">
        <tr>
          <th>교탁</th>  
        </tr>
   </table>
    <table border="0" align="center">
		<tr>
			<td>기간: 
				<script language="javascript">
					document.write(start_date+' ~ '+end_date);
				</script>
			</td>
		</tr>
	</table>
	<div style="margin:100px;" id="print">
		<input type="button" value="인쇄" onclick="sheets_print();" id="print">
		<p>
			모바일 환경에선 해당 인쇄 버튼으로 인쇄를 할 수 없습니다. 별도의 프린트 서비스를 사용하시길 바랍니다.<br>
			또한, 자바스크립트 기반으로 만들어진 프로그램이므로 자바스크립트 설정이 허용된 브라우저를 사용해주시기 바랍니다.
		</p>
		<p>
			◈사용방법<br>
			-랜덤 자리배치를 다시 돌리려면 [새로고침]을 해주시면 됩니다.<br>
			-저장 방법은 [인쇄] -> [PDF로 저장]을 권장합니다.<br>
		</p>
	</div>
  </div>
 </body>
</html>
